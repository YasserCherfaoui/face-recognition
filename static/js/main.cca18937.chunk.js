(this["webpackJsonpface-recognition"]=this["webpackJsonpface-recognition"]||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},382:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(10),i=n.n(s),c=n(58),r=n.n(c),o=(n(111),n(25)),l=n(26),d=n(9),b=n(28),u=n(27),h=function(e){var t=e.signout,n=e.click;return Object(a.jsx)("nav",{style:{display:"flex",justifyContent:"flex-end"},children:!1===t?Object(a.jsx)("p",{}):Object(a.jsx)("p",{className:"f3 link dim black underline pa3 pointer",onClick:n,children:"SignOut"})})},m=n(104),j=n.n(m),g=(n(112),n.p+"static/media/brain.b68f17a7.svg"),p=function(){return Object(a.jsx)("div",{className:"ma4 mt0",children:Object(a.jsx)(j.a,{className:"Tilt  center",options:{max:55},style:{height:150,width:150},children:Object(a.jsxs)("div",{className:"Tilt-inner pa3",children:[" ",Object(a.jsx)("img",{src:g,alt:"brain"})," "]})})})},f=(n(113),function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"f3",children:"This Magic Brain will detect faces in your pictures give it a try"}),Object(a.jsx)("div",{className:"center",children:Object(a.jsxs)("div",{className:"form center pa4 br3 shadow-5",children:[Object(a.jsx)("input",{type:"text",className:"f4 pa2 w-70 center",onChange:this.props.onInputChange}),Object(a.jsx)("button",{className:"w-30 grow f4 link ph3 pv2 dib white bg-light-purple pointer",onClick:this.props.onSubmit,children:"Detect"})]})})]})}}]),n}(i.a.Component)),O=(n(114),function(e){var t=e.user,n=e.rank;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"white f3",children:t+" , your current rank is ..."}),Object(a.jsx)("div",{className:"white f3",children:n})]})}),v=n(105),x=n.n(v),w=n(59),N=n.n(w),y=(n(382),function(e){var t=e.imageURL,n=e.box;return Object(a.jsx)("div",{className:"center ma",children:Object(a.jsxs)("div",{className:"absolute mt2",children:[Object(a.jsx)("img",{id:"image",src:t,alt:"person",width:"500px",height:"auto"}),Object(a.jsx)("div",{className:"bounding-box",style:{top:n.topRow,left:n.leftCol,right:n.rightCol,bottom:n.bottomRow}})]})})}),C=n(60);n(383);C.a.initializeApp({apiKey:"AIzaSyAvjtHQBjUU-53FjYWNA7UuD9BkCGEcqMk",authDomain:"facerecog-12aae.firebaseapp.com",databaseURL:"https://facerecog-12aae.firebaseio.com",projectId:"facerecog-12aae",storageBucket:"facerecog-12aae.appspot.com",messagingSenderId:"147400191654",appId:"1:147400191654:web:93b061310edacbe7d94e67",measurementId:"G-J6Q91TLJXM"});var k=C.a,S=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onEmailChange=function(e){a.setState({email:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value}),document.getElementById("password").addEventListener("keypress",(function(e){"Enter"===e.key&&document.getElementById("button").click()}))},a.onSubmit=function(){var e=a.state,t=e.email,n=e.password;k.auth().signInWithEmailAndPassword(t,n).then((function(e){return a.props.onSubmit(e.user.displayName)})).catch((function(e){document.getElementById("wrong").textContent="Wrong password",document.getElementById("email-address").value="",document.getElementById("password").value=""}))},a.state={email:"",password:""},a.onEmailChange=a.onEmailChange.bind(Object(d.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.auth().onAuthStateChanged((function(t){t&&e.props.onSubmit(t.displayName)}))}},{key:"render",value:function(){var e=this.props.Register;return Object(a.jsx)("div",{children:Object(a.jsx)("article",{className:"br3 ba b--black-10 mv4 shadow-5 w-100 w-50-m w-25-l mw6 center",children:Object(a.jsxs)("main",{className:"pa4 black-80",children:[Object(a.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(a.jsx)("legend",{className:"f1 fw6 ph0 mh0",children:"Sign In"}),Object(a.jsx)("div",{id:"wrong",className:"bg-red br3 shadow-2"}),Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Username/ID \ud83d\udce7:"}),Object(a.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"email-address",id:"email-address",onChange:this.onEmailChange})]}),Object(a.jsxs)("div",{className:"mv3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password \ud83d\udd10:"}),Object(a.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})]})]}),Object(a.jsx)("div",{className:"",children:Object(a.jsx)("input",{className:"b br2 ph3 pv2 input-reset ba b--black bg-transparent dim pointer f6 dib",type:"submit",value:"Sign in",id:"button",onClick:this.onSubmit})}),Object(a.jsx)("div",{className:"lh-copy mt3",children:Object(a.jsx)("a",{href:"#0",className:"f6 link dim black db",onClick:e,children:"Register"})})]})})})}}]),n}(i.a.Component),I=(n(385),function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={emailRegister:"",name:"",passwordRegister:""},a.onNameChange=a.onNameChange.bind(Object(d.a)(a)),a.onEmailChange=a.onEmailChange.bind(Object(d.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(d.a)(a)),a.onRegister=a.onRegister.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.auth().onAuthStateChanged((function(t){t&&e.props.register(t.displayName)}))}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({emailRegister:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({passwordRegister:e.target.value}),document.getElementById("pass").addEventListener("keypress",(function(e){"Enter"===e.key&&document.getElementById("register").click()}))}},{key:"onRegister",value:function(){var e=this,t=this.state,n=t.emailRegister,a=t.passwordRegister,s=t.name;n.includes("@enst.dz")?k.auth().createUserWithEmailAndPassword(n,a).then((function(t){t.user.updateProfile({displayName:s}).then((function(n){console.log(n),e.props.register(t.user.displayName)})).catch((function(e){console.log(e)}))})).catch((function(e){document.getElementById("wrong").textContent="This user already exists.",console.log(e)})):document.getElementById("wrong").textContent="please use school address @enst.dz"}},{key:"render",value:function(){var e=this.props.isNot;return Object(a.jsx)("div",{children:Object(a.jsx)("article",{className:"br3 ba b--black-10 mv4 shadow-5 w-100 w-50-m w-25-l mw6 center",children:Object(a.jsxs)("main",{className:"pa4 black-80",children:[Object(a.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(a.jsx)("legend",{className:"f1 fw6 ph0 mh0",children:"Sign Up"}),Object(a.jsx)("div",{id:"wrong",className:"bg-red br3 shadow-2"}),Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("div",{id:"wrongEntered",className:"bg-red br3 shadow-2"}),Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Name \ud83e\udd35\ud83c\udffb:"}),Object(a.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",onChange:this.onNameChange,required:!0})]}),Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Username/ID \ud83d\udce7:"}),Object(a.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"user",id:"user",onChange:this.onEmailChange,required:!0})]}),Object(a.jsxs)("div",{className:"mv3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password \ud83d\udd10:"}),Object(a.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"pass",onChange:this.onPasswordChange,required:!0})]})]}),Object(a.jsx)("div",{className:"",children:Object(a.jsx)("input",{className:"b br2 ph3 pv2 input-reset ba b--black bg-transparent dim pointer f6 dib",type:"submit",value:"Register!",onClick:this.onRegister,id:"register"})}),Object(a.jsx)("div",{className:"lh-copy mt3",children:Object(a.jsx)("a",{href:"#0",className:"f6 link dim black db",onClick:e,children:"Log In"})})]})})})}}]),n}(i.a.Component)),E=(n(386),function(){return Object(a.jsx)("div",{className:"author",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("i",{className:"fa fa-code"})," with  ",Object(a.jsx)("i",{className:"fa fa-heart"})," by Yasser Cherfaoui"]})})});n(387).config();var R=new N.a.App({apiKey:"52efa57f3f8941c58d4c2826bc7b9e9e"}),B={particles:{number:{value:200,density:{enable:!0,value_area:800}}}},L=function(e){Object(b.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).displayFace=function(t){e.setState({box:t}),console.log(t)},e.onInputChange=function(t){e.setState({input:t.target.value})},e.onSubmit=function(){e.setState({imageURL:e.state.input}),console.log("click"),R.models.predict(N.a.FACE_DETECT_MODEL,e.state.input).then((function(t){return e.displayFace(e.calculateFaceLocation(t))})).catch((function(e){return console.log(e)}))},e.state={input:"",imageURL:"",box:{},isSignedIn:!1,isStranger:!1,name:""},e.onInputChange=e.onInputChange.bind(Object(d.a)(e)),e.onSubmit=e.onSubmit.bind(Object(d.a)(e)),e.onLogin=e.onLogin.bind(Object(d.a)(e)),e.signout=e.signout.bind(Object(d.a)(e)),e.register=e.register.bind(Object(d.a)(e)),e.isNot=e.isNot.bind(Object(d.a)(e)),e.addToDB=e.addToDB.bind(Object(d.a)(e)),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"calculateFaceLocation",value:function(e){var t=e.outputs[0].data.regions[0].region_info.bounding_box,n=document.getElementById("image"),a=Number(n.width),s=Number(n.height);return console.log(a,s),{leftCol:t.left_col*a,rightCol:a-t.right_col*a,topRow:t.top_row*s,bottomRow:s-t.bottom_row*s}}},{key:"onLogin",value:function(e){this.setState({isSignedIn:!0,name:e})}},{key:"signout",value:function(){var e=this;k.auth().signOut().then((function(){return e.setState({isSignedIn:!1})}))}},{key:"register",value:function(){this.setState({isStranger:!0})}},{key:"addToDB",value:function(e){this.setState({isSignedIn:!0,name:e,isStranger:!1})}},{key:"isNot",value:function(){this.setState({isStranger:!1})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(x.a,{className:"particles",params:B}),Object(a.jsx)(h,{signout:this.state.isSignedIn,click:this.signout}),Object(a.jsx)(p,{}),!1===this.state.isSignedIn?Object(a.jsx)("div",{children:this.state.isStranger?Object(a.jsx)(I,{isNot:this.isNot,register:this.addToDB}):Object(a.jsx)(S,{onSubmit:this.onLogin,Register:this.register})}):Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(O,{user:this.state.name}),Object(a.jsx)(f,{onInputChange:this.onInputChange,onSubmit:this.onSubmit}),Object(a.jsx)(y,{box:this.state.box,imageURL:this.state.imageURL})]}),Object(a.jsx)(E,{})]})}}]),n}(i.a.Component),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,392)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};n(390);r.a.render(Object(a.jsx)(L,{}),document.getElementById("root")),D()}},[[391,1,2]]]);
//# sourceMappingURL=main.cca18937.chunk.js.map